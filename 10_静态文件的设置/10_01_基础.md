
静态文件是指CSS，JavaScript，字体，图片或者用来组成用户界面的任何其他资源

首先要说明一下，我们一直处于开发和测试阶段，因此我们一直使用的都是 Django 自带的 server(其实我个人感觉这个 server 的速度也挺快的)，但最终我们的目的是把它部署到 Apache 上去。现在我们打算增加 CSS 和添加一些图片， Django 提供了这个能力，这就是对静态文件的支持，但是它只是建议在开发过程中使用。真正到了实际环境下，还是让专门的 web server 如 Apache 来做这些事情。只要改一下链接设置就好了。更详细的说明要参见 [Managing static files](https://docs.djangoproject.com/en/1.11/howto/static-files/) 的文档。同时在 Django 中为了不让你依赖这个功能，特别在文档的开始有强烈的声明：使用这个方法是低效和不安全的。同时当 `DEBUG` 设置(在 `settings.py` 中有这个选项， `True` 表示处于调试期，会有一些特殊的功能)为 `False` 时，这个功能就自动无效了，除非你修改代码让它生效。


# 1 使用 静态文件 

## 1.1 修改 urls.py

```python
from django.conf import settings
from django.conf.urls.static import static

urlpatterns = [
    # ... 其他的URL Pattern ...
] + static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)  # 定义了去哪里去找 静态文件 
```

我们使用static函数，它需要两个参数。 
第一个参数是通过URL访问静态文件时的相对路径，在`settings.py`文件中默认设置为`STATIC_URL = '/static/'`，也就是通过`http://yourhost/static/`访问静态文件；
第二个参数是静态文件在服务器上存放的路径，`STATIC_ROOT` 就是我将用来存放 CSS 和图片的地方，这里我使用了一个 `STATIC_PATH` ，它从哪里来呢？它是我自已在 `settings.py` 中定义的。在前面有一个导入语句:

```python
from django.conf import settings
```

从这里可以看到是如何使用 settings.py 的，我们完全可以自已定义新的东西，并让它在整个项目中生效。

## 1.2 修改 settings.py

在最后增加:

```python
STATIC_ROOT = os.path.join(BASE_DIR, "collect_static/")

STATICFILES_DIRS = [
    os.path.join(BASE_DIR, "static"),
]
```

STATIC_ROOT这个字段的的目录路径是用来为部署而收集静态文件的地方。更具体的说呢，当我们执行`python manage.py collectstatic`命令的时候，系统会帮我们把所有的静态文件都收集到该目录下。

STATICFILES_DIRS默认是一个空列表，那么这个设置定义了staticfiles app将会遍历的一个附加的位置信息。该值应该设置为一个字符串的列表形式，每个元素都是附加文件目录的绝对路径。

BASE_DIR 项目路径


> 注意：这些路径都应该使用unix风格的斜杠，即便是在windows平台上("C:/Users/user/mysite/extra_static_content")

那么我需要在 `newtest` 目录下创建一个 `static`和`collect_static` 的目录。


# 2 html 文件中 引用 静态文件


首先在manage.py所在文件夹下新建static文件夹.
然后，下载bootstrap, 解压，将css/bootstrap.min.css放到static文件夹下

静态文件主要包括我们需要用到的 css，js 文件等，使用静态文件我们只需要以下两步即可
1. 在应用目录下创建 static 文件夹，可以将常用的 css 文件，js 文件等放入该文件夹
2. 在需要引用静态文件的模版中做如下处理
   ```html
   {# 引入静态文件，只有加载标签模版后才能使用 {% static %} 标签 #}
   {% load staticfiles %}
   {# 在需要引入的地方引入相应文件，例如在 static 文件夹下有个 blog 文件夹，需要引用其 #}
   {# 中的 css/bootstrap.min.css 文件可以通过如下方式进行引入 #}
   # 某个 template 中会用到下面这个话, view 中去render template
   <link rel="stylesheet" href="{% static 'blog/css/bootstrap.min.css' %}">
```








